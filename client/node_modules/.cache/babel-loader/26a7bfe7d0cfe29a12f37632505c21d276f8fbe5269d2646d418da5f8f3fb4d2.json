{"ast":null,"code":"var _jsxFileName = \"F:\\\\Shop\\\\client\\\\src\\\\pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport { Container, Form, Button, Spinner } from 'react-bootstrap';\nimport { useState, useContext, useEffect } from 'react';\nimport { AppContext } from '../components/AppContext.js';\nimport { userCreate, guestCreate } from '../http/orderAPI.js';\nimport { fetchBasket } from '../http/basketAPI.js';\nimport { check as checkAuth } from '../http/userAPI.js';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst isValid = input => {\n  let pattern;\n  switch (input.name) {\n    case 'name':\n      pattern = /^[-а-я]{2,}( [-а-я]{2,}){1,2}$/i;\n      return pattern.test(input.value.trim());\n    case 'email':\n      pattern = /^[-_.a-z]+@([-a-z]+\\.){1,2}[a-z]+$/i;\n      return pattern.test(input.value.trim());\n    case 'phone':\n      pattern = /^\\+7 \\([0-9]{3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}$/i;\n      return pattern.test(input.value.trim());\n    case 'address':\n      return input.value.trim() !== '';\n  }\n};\nconst Checkout = () => {\n  _s();\n  const {\n    user,\n    basket\n  } = useContext(AppContext);\n  const [fetching, setFetching] = useState(true); // loader, пока получаем корзину\n\n  const [order, setOrder] = useState(null);\n  const [value, setValue] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: ''\n  });\n  const [valid, setValid] = useState({\n    name: null,\n    email: null,\n    phone: null,\n    address: null\n  });\n  useEffect(() => {\n    // если корзина пуста, здесь делать нечего\n    fetchBasket().then(data => basket.products = data.products).finally(() => setFetching(false));\n    // нужно знать, авторизован ли пользователь\n    checkAuth().then(data => {\n      if (data) {\n        user.login(data);\n      }\n    }).catch(error => user.logout());\n  }, []);\n  if (fetching) {\n    // loader, пока получаем корзину\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }, this);\n  }\n  if (order) {\n    // заказ был успешно оформлен\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"mb-4 mt-4\",\n        children: \"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u043E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041D\\u0430\\u0448 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440 \\u0441\\u043A\\u043E\\u0440\\u043E \\u043F\\u043E\\u0437\\u0432\\u043E\\u043D\\u0438\\u0442 \\u0434\\u043B\\u044F \\u0443\\u0442\\u043E\\u0447\\u043D\\u0435\\u043D\\u0438\\u044F \\u0434\\u0435\\u0442\\u0430\\u043B\\u0435\\u0439.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this);\n  }\n  const handleChange = event => {\n    setValue({\n      ...value,\n      [event.target.name]: event.target.value\n    });\n    /*\r\n     * Вообще говоря, проверять данные поля, пока пользователь не закончил ввод — неправильно,\r\n     * проверять надо в момент потери фокуса. Но приходится проверять здесь, поскольку браузеры\r\n     * автоматически заполняют поля. И отловить это событие — весьма проблематичная задача.\r\n     */\n    setValid({\n      ...valid,\n      [event.target.name]: isValid(event.target)\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setValue({\n      name: event.target.name.value.trim(),\n      email: event.target.email.value.trim(),\n      phone: event.target.phone.value.trim(),\n      address: event.target.address.value.trim()\n    });\n    setValid({\n      name: isValid(event.target.name),\n      email: isValid(event.target.email),\n      phone: isValid(event.target.phone),\n      address: isValid(event.target.address)\n    });\n    if (valid.name && valid.email && valid.phone && valid.address) {\n      let comment = event.target.comment.value.trim();\n      comment = comment ? comment : null;\n      // форма заполнена правильно, можно отправлять данные\n      const body = {\n        ...value,\n        comment\n      };\n      const create = user.isAuth ? userCreate : guestCreate;\n      create(body).then(data => {\n        setOrder(data);\n        basket.products = [];\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [basket.count === 0 && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/basket\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 36\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4 mt-4\",\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n        name: \"name\",\n        value: value.name,\n        onChange: e => handleChange(e),\n        isValid: valid.name === true,\n        isInvalid: valid.name === false,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u0438 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044E...\",\n        className: \"mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        name: \"email\",\n        value: value.email,\n        onChange: e => handleChange(e),\n        isValid: valid.email === true,\n        isInvalid: valid.email === false,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0430\\u0434\\u0440\\u0435\\u0441 \\u043F\\u043E\\u0447\\u0442\\u044B...\",\n        className: \"mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        name: \"phone\",\n        value: value.phone,\n        onChange: e => handleChange(e),\n        isValid: valid.phone === true,\n        isInvalid: valid.phone === false,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430...\",\n        className: \"mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        name: \"address\",\n        value: value.address,\n        onChange: e => handleChange(e),\n        isValid: valid.address === true,\n        isInvalid: valid.address === false,\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0430\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438...\",\n        className: \"mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        name: \"comment\",\n        className: \"mb-3\",\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439 \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"5+IS98ceCRVZdcLlkhj2tFUJMoQ=\");\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["Container","Form","Button","Spinner","useState","useContext","useEffect","AppContext","userCreate","guestCreate","fetchBasket","check","checkAuth","Navigate","jsxDEV","_jsxDEV","isValid","input","pattern","name","test","value","trim","Checkout","_s","user","basket","fetching","setFetching","order","setOrder","setValue","email","phone","address","valid","setValid","then","data","products","finally","login","catch","error","logout","animation","fileName","_jsxFileName","lineNumber","columnNumber","children","className","handleChange","event","target","handleSubmit","preventDefault","comment","body","create","isAuth","count","to","replace","noValidate","onSubmit","Control","onChange","e","isInvalid","placeholder","type","_c","$RefreshReg$"],"sources":["F:/Shop/client/src/pages/Checkout.js"],"sourcesContent":["import { Container, Form, Button, Spinner } from 'react-bootstrap'\r\nimport { useState, useContext, useEffect } from 'react'\r\nimport { AppContext } from '../components/AppContext.js'\r\nimport { userCreate, guestCreate } from '../http/orderAPI.js'\r\nimport { fetchBasket } from '../http/basketAPI.js'\r\nimport { check as checkAuth } from '../http/userAPI.js'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nconst isValid = (input) => {\r\n    let pattern\r\n    switch (input.name) {\r\n        case 'name':\r\n            pattern = /^[-а-я]{2,}( [-а-я]{2,}){1,2}$/i\r\n            return pattern.test(input.value.trim())\r\n        case 'email':\r\n            pattern = /^[-_.a-z]+@([-a-z]+\\.){1,2}[a-z]+$/i\r\n            return pattern.test(input.value.trim())\r\n        case 'phone':\r\n            pattern = /^\\+7 \\([0-9]{3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}$/i\r\n            return pattern.test(input.value.trim())\r\n        case 'address':\r\n            return input.value.trim() !== ''\r\n    }\r\n}\r\n\r\nconst Checkout = () => {\r\n    const { user, basket } = useContext(AppContext)\r\n    const [fetching, setFetching] = useState(true) // loader, пока получаем корзину\r\n\r\n    const [order, setOrder] = useState(null)\r\n\r\n    const [value, setValue] = useState({name: '', email: '', phone: '', address: ''})\r\n    const [valid, setValid] = useState({name: null, email: null, phone: null, address: null})\r\n\r\n    useEffect(() => {\r\n        // если корзина пуста, здесь делать нечего\r\n        fetchBasket()\r\n            .then(\r\n                data => basket.products = data.products\r\n            )\r\n            .finally(\r\n                () => setFetching(false)\r\n            )\r\n        // нужно знать, авторизован ли пользователь\r\n        checkAuth()\r\n            .then(data => {\r\n                if (data) {\r\n                    user.login(data)\r\n                }\r\n            })\r\n            .catch(\r\n                error => user.logout()\r\n            )\r\n    }, [])\r\n\r\n    if (fetching) { // loader, пока получаем корзину\r\n        return <Spinner animation=\"border\" />\r\n    }\r\n\r\n    if (order) { // заказ был успешно оформлен\r\n        return (\r\n            <Container>\r\n                <h1 className=\"mb-4 mt-4\">Заказ оформлен</h1>\r\n                <p>Наш менеджер скоро позвонит для уточнения деталей.</p>\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setValue({...value, [event.target.name]: event.target.value})\r\n        /*\r\n         * Вообще говоря, проверять данные поля, пока пользователь не закончил ввод — неправильно,\r\n         * проверять надо в момент потери фокуса. Но приходится проверять здесь, поскольку браузеры\r\n         * автоматически заполняют поля. И отловить это событие — весьма проблематичная задача.\r\n         */\r\n        setValid({...valid, [event.target.name]: isValid(event.target)})\r\n    }\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault()\r\n\r\n        setValue({\r\n            name: event.target.name.value.trim(),\r\n            email: event.target.email.value.trim(),\r\n            phone: event.target.phone.value.trim(),\r\n            address: event.target.address.value.trim(),\r\n        })\r\n\r\n        setValid({\r\n            name: isValid(event.target.name),\r\n            email: isValid(event.target.email),\r\n            phone: isValid(event.target.phone),\r\n            address: isValid(event.target.address),\r\n        })\r\n\r\n        if (valid.name && valid.email && valid.phone && valid.address) {\r\n            let comment = event.target.comment.value.trim()\r\n            comment = comment ? comment : null\r\n            // форма заполнена правильно, можно отправлять данные\r\n            const body = {...value, comment}\r\n            const create = user.isAuth ? userCreate : guestCreate\r\n            create(body)\r\n                .then(\r\n                    data => {\r\n                        setOrder(data)\r\n                        basket.products = []\r\n                    }\r\n                )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            {basket.count === 0 && <Navigate to=\"/basket\" replace={true} />}\r\n            <h1 className=\"mb-4 mt-4\">Оформление заказа</h1>\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n                <Form.Control\r\n                    name=\"name\"\r\n                    value={value.name}\r\n                    onChange={e => handleChange(e)}\r\n                    isValid={valid.name === true}\r\n                    isInvalid={valid.name === false}\r\n                    placeholder=\"Введите имя и фамилию...\"\r\n                    className=\"mb-3\"\r\n                />\r\n                <Form.Control\r\n                    name=\"email\"\r\n                    value={value.email}\r\n                    onChange={e => handleChange(e)}\r\n                    isValid={valid.email === true}\r\n                    isInvalid={valid.email === false}\r\n                    placeholder=\"Введите адрес почты...\"\r\n                    className=\"mb-3\"\r\n                />\r\n                <Form.Control\r\n                    name=\"phone\"\r\n                    value={value.phone}\r\n                    onChange={e => handleChange(e)}\r\n                    isValid={valid.phone === true}\r\n                    isInvalid={valid.phone === false}\r\n                    placeholder=\"Введите номер телефона...\"\r\n                    className=\"mb-3\"\r\n                />\r\n                <Form.Control\r\n                    name=\"address\"\r\n                    value={value.address}\r\n                    onChange={e => handleChange(e)}\r\n                    isValid={valid.address === true}\r\n                    isInvalid={valid.address === false}\r\n                    placeholder=\"Введите адрес доставки...\"\r\n                    className=\"mb-3\"\r\n                />\r\n                <Form.Control\r\n                    name=\"comment\"\r\n                    className=\"mb-3\"\r\n                    placeholder=\"Комментарий к заказу...\"\r\n                />\r\n                <Button type=\"submit\">Отправить</Button>\r\n            </Form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Checkout"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}