{"ast":null,"code":"import axios from 'axios';\nconst guestInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true // отправлять cookie\n});\nconst authInstance = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true // отправлять cookie\n});\n\n// добавляем в запрос данные для авторизации с помощью перехватчика (interceptor)\nconst authInterceptor = config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.authorization = 'Bearer ' + localStorage.getItem('token');\n  }\n  return config;\n};\nauthInstance.interceptors.request.use(authInterceptor);\nexport { guestInstance, authInstance };","map":{"version":3,"names":["axios","guestInstance","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","authInstance","authInterceptor","config","token","localStorage","getItem","headers","authorization","interceptors","request","use"],"sources":["F:/Shop/client/src/http/index.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst guestInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    withCredentials: true // отправлять cookie\r\n})\r\n\r\nconst authInstance = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    withCredentials: true // отправлять cookie\r\n})\r\n\r\n// добавляем в запрос данные для авторизации с помощью перехватчика (interceptor)\r\nconst authInterceptor = (config) => {\r\n    const token = localStorage.getItem('token')\r\n    if (token) {\r\n        config.headers.authorization = 'Bearer ' + localStorage.getItem('token')\r\n    }\r\n    return config\r\n}\r\nauthInstance.interceptors.request.use(authInterceptor)\r\n\r\nexport {\r\n    guestInstance,\r\n    authInstance\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC/BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACtCC,eAAe,EAAE,IAAI,CAAC;AAC1B,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAGR,KAAK,CAACE,MAAM,CAAC;EAC9BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACtCC,eAAe,EAAE,IAAI,CAAC;AAC1B,CAAC,CAAC;;AAEF;AACA,MAAME,eAAe,GAAIC,MAAM,IAAK;EAChC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,SAAS,GAAGH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC5E;EACA,OAAOH,MAAM;AACjB,CAAC;AACDF,YAAY,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAACT,eAAe,CAAC;AAEtD,SACIR,aAAa,EACbO,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}